<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrueNAS Server Build - Nathan Nicholas</title>
    <link rel="icon" type="image/svg+xml" href="../images/branding/NN-light.svg" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/svg+xml" href="../images/branding/NN-dark.svg" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="../index.html" class="logo-link">
                <img src="../images/branding/NN-light.svg" alt="Nathan Nicholas" class="logo-img">
            </a>
            <div class="nav-links">
                <a href="../index.html#about">About</a>
                <a href="../projects.html">Projects</a>
                <a href="../index.html#recently-watched">Media</a>
                <a href="../referrals.html">Referrals</a>
                <a href="../uses.html">Uses</a>
                <a href="../index.html#contact">Contact</a>
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
                    <i class="fa-solid fa-lightbulb"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Project Detail Content -->
    <main>
    <section class="page-content">
        <div class="container">
            <div class="server-header">
                <i class="fa-solid fa-server server-icon" aria-hidden="true"></i>
                <h1>TrueNAS Server Build</h1>
                <div class="project-meta" style="margin-top: 16px;">
                    <p>Custom-built homelab server running TrueNAS SCALE with comprehensive media automation, Bitcoin full node, photo management, and home automation integrations.</p>
                </div>
            </div>

            <div class="specs-container">
                <!-- Overview -->
                <section class="specs-section">
                    <h2><i class="fa-solid fa-info-circle" aria-hidden="true"></i> Project Overview</h2>
                    <p>This is the complete hardware build and infrastructure setup for my TrueNAS server. Built from the ground up with carefully selected components. Overcame initial hardware challenges (defective motherboard RMA) to create a solid foundation for media automation, Bitcoin operations, photo storage, and home automation backup infrastructure.</p>
                </section>

                <!-- Hardware Build -->
                <section class="specs-section">
                    <h2><i class="fa-solid fa-microchip" aria-hidden="true"></i> Hardware Specifications</h2>
                    <div class="specs-grid">
                        <div class="spec-item">
                            <span class="spec-label">CPU</span>
                            <span class="spec-value">Intel Core i5-12500 (6 cores, 12 threads, 3.0-4.6GHz)</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">RAM</span>
                            <span class="spec-value">32GB DDR4</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Motherboard</span>
                            <span class="spec-value">ASRock B760M Pro RS (replacement after defective unit RMA)</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Storage Pool</span>
                            <span class="spec-value">2x 8TB Seagate IronWolf (ZFS Mirror RAID1)</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Usable Capacity</span>
                            <span class="spec-value">7.18TB (14.5TB raw, mirrored)</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Operating System</span>
                            <span class="spec-value">TrueNAS SCALE 25.10.0</span>
                        </div>
                    </div>
<br>
                    <div class="note-card">
                        <span><p><i class="fa-solid fa-exclamation-triangle" aria-hidden="true"></i>
                        <strong> Build Challenge:</strong> First motherboard was DOA (wouldn't POST). Successfully RMA'd and replaced, then completed installation without further issues.</p></span>
                    </div>
                </section>

                <!-- Remote Access -->
                <section class="specs-section">
                    <h2><i class="fa-solid fa-shield-halved" aria-hidden="true"></i> Remote Access</h2>
                    <div class="performance-grid">
                        <div class="performance-card">
                            <i class="fa-solid fa-circle-nodes" aria-hidden="true"></i>
                            <h4>Tailscale (Primary)</h4>
                            <p>Zero-trust VPN with subnet routing enabled for entire network access. Allows remote BitAxe access via secure mesh networking.</p>
                        </div>
                        <div class="performance-card">
                            <i class="fa-brands fa-cloudflare" aria-hidden="true"></i>
                            <h4>Cloudflare Tunnel</h4>
                            <p>Backup access method with host network mode. Routes configured for Overseerr, Radarr, Sonarr, Transmission, Plex, and Immich.</p>
                        </div>
                        <div class="performance-card">
                            <img src="https://cdn.jsdelivr.net/gh/selfhst/icons/svg/plex.svg" alt="Plex" width="48" height="48" aria-hidden="true">
                            <h4>Plex Direct Access</h4>
                            <p>Port forwarded on router for direct connections, eliminating relay lag during streaming.</p>
                        </div>
                    </div>
                </section>

                <!-- Media Automation Stack -->
                <section class="specs-section">
                    <h2><i class="fa-solid fa-film" aria-hidden="true"></i> Media Automation Stack</h2>
                    <p>Complete automation pipeline installed as TrueNAS apps with proper storage mounts.</p>

                    <div class="comparison-table">
                        <table>
                            <caption class="sr-only">Media automation services and configurations</caption>
                            <thead>
                                <tr>
                                    <th scope="col">Service</th>
                                    <th scope="col">Purpose</th>
                                    <th scope="col">Configuration</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Overseerr</strong></td>
                                    <td>Request Management</td>
                                    <td>Integrated with Plex, Sonarr, Radarr. Auto-approval enabled, family-friendly interface</td>
                                </tr>
                                <tr>
                                    <td><strong>Plex Media Server</strong></td>
                                    <td>Media Streaming</td>
                                    <td>Libraries: TV & Movies from complete folders, remote access enabled, transcoding enabled</td>
                                </tr>
                                <tr>
                                    <td><strong>Prowlarr</strong></td>
                                    <td>Indexer Manager</td>
                                    <td>Auto-syncs to Sonarr and Radarr. Multiple indexers configured</td>
                                </tr>
                                <tr>
                                    <td><strong>Radarr</strong></td>
                                    <td>Movie Automation</td>
                                    <td>Root: /downloads/complete/movies, hardlinks to library, Trakt integration, Transmission category: radarr</td>
                                </tr>
                                <tr>
                                    <td><strong>Sonarr</strong></td>
                                    <td>TV Automation</td>
                                    <td>Root: /downloads/complete/tv, hardlinks to library, Trakt integration, Transmission category: sonarr</td>
                                </tr>
                                <tr>
                                    <td><strong>Trakt</strong></td>
                                    <td>List Imports</td>
                                    <td>Radarr and Sonarr automatically import watch list and monitor for releases to grab</td>
                                </tr>
                                <tr>
                                    <td><strong>Transmission</strong></td>
                                    <td>Download Client</td>
                                    <td>Authentication required, preserved seeding sessions from Synology migration</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Bitcoin Infrastructure -->
                <section class="specs-section">
                    <h2><i class="fa-brands fa-bitcoin" aria-hidden="true"></i> Bitcoin Full Node & Mining</h2>
                    <div class="specs-grid">
                        <div class="spec-item">
                            <span class="spec-label">Node Software</span>
                            <span class="spec-value">Bitcoin Core (TrueNAS native app)</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Storage</span>
                            <span class="spec-value">662GB (blockchain data)</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Sync Status</span>
                            <span class="spec-value">100% (923,514 blocks, ~48 hours initial sync)</span>
                        </div>
                    </div>
<br>
                    <div class="note-card">
                        <p><span><i class="fa-solid fa-microchip" aria-hidden="true"></i>
                        <strong> BitAxe Gamma:</strong> 1,366 GH/s solo miner connected to CK Solo Pool. Accessible remotely via Tailscale subnet routing. Attempted local node mining via stratum proxy but ultimately using CK Pool directly while maintaining full node for validation.</span></p>
                    </div>
                    <div class="note-card">
                        <p><span><i class="fa-solid fa-flask" aria-hidden="true"></i>
                        <strong> Stratum Experiments:</strong> Tested public-pool, ckpool, and various Docker stratum proxies for local mining. Challenge was finding compatible proxy for Bitcoin Core RPC interface.</span></p>
                    </div>
                </section>

                <!-- Utility Applications -->
                <section class="specs-section">
                    <h2><i class="fa-solid fa-toolbox" aria-hidden="true"></i> Utility Applications</h2>

                    <div class="comparison-table">
                        <table>
                            <caption class="sr-only">Utility applications and configurations</caption>
                            <thead>
                                <tr>
                                    <th scope="col">Application</th>
                                    <th scope="col">Purpose</th>
                                    <th scope="col">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>File Browser</strong></td>
                                    <td>Web-based file management</td>
                                    <td>HTTPS enabled, not exposed via Cloudflare</td>
                                </tr>
                                <tr>
                                    <td><strong>Portainer</strong></td>
                                    <td>Container management</td>
                                    <td>Used for custom containers like Actual Budget, Honeygain,</td>
                                </tr>
                                <tr>
                                    <td><strong>Honeygain</strong></td>
                                    <td>Passive income</td>
                                    <td>Version 1.2.14</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Data Migration -->
                <section class="specs-section">
                    <h2><i class="fa-solid fa-arrow-right-arrow-left" aria-hidden="true"></i> Synology to TrueNAS Migration</h2>

                    <div class="specs-grid">
                        <div class="spec-item">
                            <span class="spec-label">Source</span>
                            <span class="spec-value">Synology DS124</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Total Data</span>
                            <span class="spec-value">~2.2TB</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Method</span>
                            <span class="spec-value">rsync with auto-retry loop</span>
                        </div>
                    </div>

                    <div class="code-block">
                        <span><h3>Migration Data Breakdown</h3></span>
                        <ul>
                            <li><strong>TV Shows:</strong> 2TB</li>
                            <li><strong>Movies:</strong> 75GB</li>
                        </ul>
                    </div>

                    <div class="note-card">
                        <span><i class="fa-solid fa-sync" aria-hidden="true"></i>
                        <strong>Auto-Retry Solution:</strong> Used while loop with rsync to automatically resume transfers after connection suspensions. Preserved Transmission seeding sessions throughout migration.</span>
                    </div>
                </section>

                <!-- Permissions & Security -->
                <section class="specs-section">

                    <h2 style="margin-top: 24px;"><i class="fa-solid fa-shield" aria-hidden="true"></i> Network Security</h2>
                    <ul class="use-cases">
                        <li><i class="fa-solid fa-check-circle" aria-hidden="true"></i> <strong>Authentication:</strong>All exposed services password-protected or using Plex SSO</li>
                        <li><i class="fa-solid fa-check-circle" aria-hidden="true"></i> <strong>Cloudflare Tunnel:</strong>Encrypted tunnel without port forwarding (except Plex)</li>
                        <li><i class="fa-solid fa-check-circle" aria-hidden="true"></i> <strong>Tailscale:</strong>Zero-trust mesh VPN for all remote access</li>
                        <li><i class="fa-solid fa-check-circle" aria-hidden="true"></i> <strong>TrueNAS Firewall:</strong>Default restrictive configuration</li>
                    </ul>
                </section>

                <!-- Performance & Usage -->
                <section class="specs-section">
                    <h2><i class="fa-solid fa-gauge-high" aria-hidden="true"></i> Storage Usage & Performance</h2>
                    <div class="performance-grid">
                        <div class="performance-card">
                            <i class="fa-solid fa-database" aria-hidden="true"></i>
                            <h3>Current Usage</h3>
                            <p>1.18TB / 7.18TB (16%)</p>
                        </div>
                        <div class="performance-card">
                            <i class="fa-brands fa-bitcoin" aria-hidden="true"></i>
                            <h3>Bitcoin Node</h3>
                            <p>662GB blockchain data</p>
                        </div>
                        <div class="performance-card">
                            <i class="fa-solid fa-film" aria-hidden="true"></i>
                            <h3>Media Library</h3>
                            <p>~1.2TB (migration in progress)</p>
                        </div>
                        <div class="performance-card">
                            <i class="fa-solid fa-server" aria-hidden="true"></i>
                            <h3>Apps & Backups</h3>
                            <p>~7GB total</p>
                        </div>
                    </div>

                    <div class="note-card">
                        <p><i class="fa-solid fa-chart-line" aria-hidden="true"></i>
                        <strong>Expected Final Usage:</strong> ~2.5TB after migration complete. Plenty of room for growth with 4.5TB+ remaining capacity.</p>
                    </div>
                </section>

                <!-- Future Enhancements -->
                <section class="specs-section">
                    <h2><i class="fa-solid fa-rocket" aria-hidden="true"></i> Future Enhancements</h2>

                    <h3><i class="fa-solid fa-clock" aria-hidden="true"></i> Planned</h3>
                    <ul class="use-cases">
                        <li>Complete TV migration (remaining ~40%)</li>
                        <li>Decommission Synology after verification</li>
                        <li>Home automation for garage (ratgdo + quiet belt drive opener)</li>
                        <li>Self-hosted cameras (Reolink + Frigate NVR)</li>
                        <li>BIOS auto-power-on configuration</li>
                    </ul>

                    <h3 style="margin-top: 16px;"><i class="fa-solid fa-lightbulb" aria-hidden="true"></i> Under Consideration</h3>
                    <ul class="use-cases">
                        <li>Additional *arr automations</li>
                        <li>Enhanced Bitcoin node features</li>
                        <li>River Financial API integration (if available)</li>
                    </ul>
                </section>

                <!-- Back Button -->
                <div class="back-button-container">
                    <a href="../projects.html" class="btn"><i class="fa-solid fa-arrow-left" aria-hidden="true"></i> Back to Projects</a>
                </div>
            </div>
        </div>
    </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Nathan Nicholas. All rights reserved.</p>
        </div>
    </footer>

    <script src="../script.js?v=20250104001"></script>
</body>
</html>
